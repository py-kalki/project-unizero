---
phase: 03-ai-discovery-core
plan: '01'
type: execute
wave: 1
depends_on: []
files_modified:
  - prisma/schema.prisma
  - prisma/seed.ts
autonomous: true
user_setup: []

must_haves:
  truths:
    - "Database has Category and AITool models with proper relations"
    - "Database contains at least 50 AI tools across 9 categories"
    - "Prisma schema includes PricingType enum with FREE, FREEMIUM, SUBSCRIPTION, PER_TOKEN"
  artifacts:
    - path: "prisma/schema.prisma"
      provides: "Category and AITool models with indexes"
      contains: "model Category", "model AITool", "enum PricingType"
    - path: "prisma/seed.ts"
      provides: "Seed script with 50+ tools"
      contains: "categories", "tools array"
  key_links:
    - from: "prisma/schema.prisma"
      to: "database"
      via: "prisma db push"
      pattern: "prisma.*db push"
---

<objective>
Add database schema and seed data for AI tool catalog. Creates Category and AITool models with proper indexes, relations, and 50+ curated tools across 9 categories.
</objective>

<execution_context>
@C:/Users/ASUS/.config/opencode/get-shit-done/workflows/execute-plan.md
@C:/Users/ASUS/.config/opencode/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/phases/03-ai-discovery-core/03-RESEARCH.md
@prisma/schema.prisma
</context>

<tasks>

<task type="auto">
  <name>Add Category and AITool models to Prisma schema</name>
  <files>prisma/schema.prisma</files>
  <action>
    Update prisma/schema.prisma:
    1. Add PricingType enum with values: FREE, FREEMIUM, SUBSCRIPTION, PER_TOKEN
    2. Add Category model with: id, name (unique), slug (unique), description, icon, createdAt, updatedAt
    3. Add AITool model with: id, name, slug (unique), description, websiteUrl, logoUrl, categoryId, pricingType, monthlyPrice, yearlyPrice, pricingNote, features (JSON), isPopular, createdAt, updatedAt, lastVerifiedAt
    4. Add indexes on categoryId, pricingType, name for AITool
    5. Add slug index for Category
    
    Reference: 03-RESEARCH.md lines 264-349 for full schema definition
  </action>
  <verify>Run `npx prisma validate` and ensure schema is valid</verify>
  <done>Schema has Category, AITool, PricingType with proper fields and indexes</done>
</task>

<task type="auto">
  <name>Push schema to database</name>
  <files>prisma/schema.prisma</files>
  <action>
    Run `npx prisma db push` to create tables in the database
  </action>
  <verify>`npx prisma db push` completes without errors</verify>
  <done>Database tables created for Category and AITool</done>
</task>

<task type="auto">
  <name>Create seed script with 50+ AI tools</name>
  <files>prisma/seed.ts</files>
  <action>
    Create prisma/seed.ts:
    1. Create categories array with 9 categories (LLMs, Image Generation, Video Generation, Audio & Music, Coding & Developer, Productivity, Writing & Content, Research, Marketing)
    2. Create tools array with 50+ tools across categories - use data from 03-RESEARCH.md lines 669-1124
    3. Implement main() function that upserts categories then tools
    4. Add pricingType mapping (FREE, FREEMIUM, SUBSCRIPTION, PER_TOKEN)
    
    Note: Use PricingType enum import from @prisma/client
  </action>
  <verify>Run `npx prisma db seed` or `npx tsx prisma/seed.ts` - verify 9 categories and 50+ tools created</verify>
  <done>Seed script exists with 50+ tools across 9 categories</done>
</task>

</tasks>

<verification>
1. Run `npx prisma studio` to verify tables exist
2. Query Category table - should have 9 records
3. Query AITool table - should have 50+ records
</verification>

<success_criteria>

- Schema validates without errors
- Database push completes successfully
- 9 categories exist in database
- 50+ AI tools exist in database with proper category relations
  </success_criteria>

<output>
After completion, create `.planning/phases/03-ai-discovery-core/{phase}-01-SUMMARY.md`
</output>
